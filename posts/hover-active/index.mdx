---
title: Правильный :hover
date: '2022-05-02T00:32:34.389Z'
description: Рассказываю, почему :hover для тачскринов это неправильно и что использовать вместо него.
---

<h1>правильный :hover</h1>

Я не знаю, почему никто об этом не говорит, но **НА ТАЧСКРИНАХ НЕТ ХОВЕРА**!

Почему? Да потому что ховер это состояние элемента, над которым занесли поинтер (курсор мыши).
Очевидно, что смартфон не знает, над каким элементом висит палец пользователя.

Я не могу понять, где была логика разработчиков мобильных браузеров, но почему-то они решили показывать стили для ховера на нажатом элементе.
Проблема с этим _недоховером_ в том, что после нажатия на элемент, он зависает в этом состоянии.
Получается так, что пользователь делает тап по кнопке, но она продолжает гореть так, как будтно на неё навели курсор,
и это сосотояние сохраняется до следующего тапа или скролла.

Может быть я слишком притязательный, но по моему мнению, если продукт делается не «на отъебись»,
то таких гадостей там быть не должно, а интерактивные элементы должны вести себя также, как и в нативных приложениях.

## Что делать?

В CSS есть малоизвестная фича — <a href="https://caniuse.com/css-media-interaction" target="_blank" rel="noopener noreferer">Interaction media features</a>.
Она позволяет понять через медиа-запрос, может ли пользоваль наводиться на элементы и использует ли
он точный (мышь или стилус) или неточный (палец) поинтер. Пример:

```css
/* smartphones, touchscreens */
@media (hover: none) and (pointer: coarse) {
    /* ... */
}
/* stylus-based screens */
@media (hover: none) and (pointer: fine) {
    /* ... */
}
/* Nintendo Wii controller, Microsoft Kinect */
@media (hover: hover) and (pointer: coarse) {
    /* ... */
}
/* mouse, touch pad */
@media (hover: hover) and (pointer: fine) {
    /* ... */
}
```

Для себя я накидал SCSS-миксин, который можно использовать вместо `:hover`:

```scss
@mixin hover-active {
    @media (hover: hover) {
        &:hover {
            @content;
        }
    }

    @media (hover: none) {
        &:active {
            @content;
        }
    }
}

.button {
    @include hover-active {
        // hover styles
    }
}
```

Если же нужно отдельно задать `:hover` и `:active` для десктопа и `:active` для тачскрина, можно использовать вот такие миксины:

```scss
@mixin mouse-hover {
    @media (hover: hover) {
        &:hover {
            @content;
        }
    }
}

@mixin mouse-active {
    @media (hover: hover) {
        &:active {
            @content;
        }
    }
}

@mixin touch-active {
    @media (hover: none) {
        &:active {
            @content;
        }
    }
}
```

Если же стили `:active` одни и для десктопа и тачкскрина, то можно использовать `mouse-hover` и ванильный `:active`.
